# EVM钱包监控软件 v2.0

一个功能强大的以太坊虚拟机(EVM)全链钱包监控软件，支持12+主流区块链网络，自动监控多个钱包地址的余额并自动转账到目标地址。

## 🚀 一键安装

```bash
curl -fsSL https://raw.githubusercontent.com/haohaoi34/Wallet-monitoring/main/install.sh | bash
```

## ✨ 功能特性

- 🔐 **安全性**: 私钥AES-GCM加密存储，密码保护
- 🌐 **全链支持**: 支持12+主流EVM兼容网络，多RPC端点故障转移
- 📊 **智能监控**: 自动检查交易历史，只监控有活跃记录的地址
- 💸 **自动转账**: 发现余额后自动转账到目标地址
- 📝 **日志记录**: 完整的操作日志和状态记录
- 🔄 **状态恢复**: 程序重启后可恢复上次监控状态
- 🎮 **交互界面**: 友好的菜单式操作界面
- 📁 **批量导入**: 支持1000+钱包的批量导入
- ⚡ **高可用性**: 多RPC端点自动切换，确保连接稳定

## 🌐 支持的网络

| 网络 | 原生币种 | 状态 |
|------|----------|------|
| Ethereum | ETH | ✅ |
| Binance Smart Chain | BNB | ✅ |
| Polygon | MATIC | ✅ |
| Arbitrum One | ETH | ✅ |
| Optimism | ETH | ✅ |
| Avalanche C-Chain | AVAX | ✅ |
| Fantom Opera | FTM | ✅ |
| Base | ETH | ✅ |
| Cronos | CRO | ✅ |
| Gnosis Chain | xDAI | ✅ |
| Celo | CELO | ✅ |
| Moonbeam | GLMR | ✅ |
| Aurora | ETH | ✅ |

## 📦 安装方式

### 方式1: 一键安装（推荐）

```bash
curl -fsSL https://raw.githubusercontent.com/haohaoi34/Wallet-monitoring/main/install.sh | bash
```

### 方式2: 手动安装

```bash
# 1. 克隆或下载项目
git clone https://github.com/haohaoi34/Wallet-monitoring.git
cd Wallet-monitoring

# 2. 运行安装脚本
./install.sh

# 3. 启动程序
./start.sh
```

### 方式3: 本地运行

```bash
# 1. 安装Python依赖
pip3 install web3==6.11.3 eth-account==0.10.0 colorama==0.4.6 pyyaml==6.0.1 requests==2.31.0 pycryptodome==3.19.0

# 2. 直接运行
python3 evm_monitor.py
```

## 使用流程

### 首次使用

1. **运行程序**: `python3 bootstrap.py`
2. **设置密码**: 首次运行会要求创建钱包密码
3. **设置目标钱包**: 选择菜单选项5，设置接收转账的目标地址
4. **添加私钥**: 选择菜单选项1或6批量导入钱包私钥
5. **开始监控**: 选择菜单选项3开始监控

### 主菜单功能

```
1. 添加钱包私钥      - 单个添加钱包私钥
2. 查看当前地址      - 显示所有已添加的钱包地址
3. 开始监控          - 启动自动监控和转账
4. 停止监控          - 停止监控进程
5. 设置目标钱包地址   - 设置接收转账的目标地址
6. 批量导入私钥      - 从文件批量导入私钥
7. 查看监控状态      - 显示详细的监控状态信息
8. 设置监控参数      - 调整监控间隔、最小转账金额等
0. 退出程序          - 安全退出并保存状态
```

## 监控逻辑

1. **交易历史检查**: 程序会首先检查每个地址在各个链上是否有交易记录
2. **智能筛选**: 只有有交易历史的地址-链组合才会被加入监控列表
3. **余额监控**: 定期检查监控列表中的地址余额
4. **自动转账**: 发现余额超过最小转账金额时自动转账到目标地址
5. **状态保存**: 监控状态实时保存，程序重启后可恢复

## 配置参数

- **监控间隔**: 默认30秒，可在设置中调整
- **最小转账金额**: 默认0.001 ETH，可在设置中调整
- **Gas价格**: 默认20 Gwei，可在设置中调整
- **支持网络**: 以太坊主网、Polygon、Arbitrum One

## 文件说明

- `bootstrap.py`: 引导程序，自动检测和安装依赖
- `evm_monitor.py`: 主程序，包含所有功能
- `wallets.enc`: 加密的钱包文件（程序自动生成）
- `monitor_state.json`: 监控状态文件（程序自动生成）
- `monitor.log`: 日志文件（程序自动生成）

## 安全注意事项

1. **密码安全**: 请设置强密码并妥善保管
2. **私钥保护**: 私钥经过加密存储，但请确保运行环境安全
3. **网络安全**: 建议在安全的网络环境中运行
4. **备份重要**: 定期备份钱包文件和配置

## 故障排除

### 连接问题
- 检查网络连接
- 确认Alchemy API密钥有效

### 依赖问题
- 运行bootstrap.py自动安装依赖
- 手动安装缺失的包

### 性能优化
- 调整监控间隔（避免过于频繁）
- 合理设置最小转账金额

## 技术支持

如有问题，请检查日志文件 `monitor.log` 获取详细错误信息。
